<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNSã‚¢ãƒ—ãƒªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ è©³ç´°è§£æ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .flow-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .flow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
        }
        .step-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .step-description {
            color: #666;
            font-size: 0.9em;
        }
        .component-box {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            color: #333;
        }
        .nuxt-client { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .nuxt-server { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .firebase { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .laravel { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .highlight {
            background: #ffd700;
            padding: 2px 4px;
            border-radius: 3px;
            color: #333;
            font-weight: bold;
        }
        .security-box {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .security-title {
            color: #2e7d32;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .architecture-diagram {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .arrow {
            font-size: 2em;
            color: #667eea;
            margin: 10px;
        }
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .tech-item {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .performance-note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” SNSã‚¢ãƒ—ãƒªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ è©³ç´°è§£æ</h1>
            <p>Nuxt.js + Firebase Authentication + Laravel + JWT ã«ã‚ˆã‚‹çµ±åˆèªè¨¼ãƒ•ãƒ­ãƒ¼</p>
        </div>
        
        <div class="content">
            <!-- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦ -->
            <div class="section">
                <h2>ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
                <div class="tech-stack">
                    <div class="tech-item nuxt-client">
                        <h3>Nuxt.js Client</h3>
                        <p>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ UI<br>Firebase Auth SDK</p>
                    </div>
                    <div class="tech-item nuxt-server">
                        <h3>Nuxt.js Server</h3>
                        <p>SSR & API Proxy<br>èªè¨¼ãƒã‚§ãƒƒã‚¯ä¸­ç¶™</p>
                    </div>
                    <div class="tech-item firebase">
                        <h3>Firebase Auth</h3>
                        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼<br>JWTç™ºè¡Œ</p>
                    </div>
                    <div class="tech-item laravel">
                        <h3>Laravel API</h3>
                        <p>Firebase Admin SDK<br>JWTæ¤œè¨¼ & Cookieç®¡ç†</p>
                    </div>
                </div>
            </div>

            <!-- ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼è©³ç´° -->
            <div class="section">
                <h2>ğŸ”‘ ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆè©³ç´°ç‰ˆï¼‰</h2>
                <div class="flow-container">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›</div>
                            <div class="step-description">
                                <strong>å ´æ‰€:</strong> <code>frontend/components/LoginForm.vue</code><br>
                                ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Firebase Authentication ã§ãƒ­ã‚°ã‚¤ãƒ³</div>
                            <div class="step-description">
                                <strong>å®Ÿè¡Œå ´æ‰€:</strong> Nuxt.js Client (ãƒ–ãƒ©ã‚¦ã‚¶)<br>
                                <code>signInWithEmailAndPassword(auth, email, password)</code><br>
                                Firebase SDKãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§èªè¨¼ã‚’å®Ÿè¡Œ
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Firebase ID Token ã‚’å–å¾—</div>
                            <div class="step-description">
                                <strong>å–å¾—å†…å®¹:</strong> JWTå½¢å¼ã®IDãƒˆãƒ¼ã‚¯ãƒ³<br>
                                <code>const idToken = await firebaseUser.getIdToken()</code><br>
                                ã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯uid, email, æœ‰åŠ¹æœŸé™ãªã©ã®æƒ…å ±ãŒå«ã¾ã‚Œã‚‹
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Laravel API ã«ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±é€ä¿¡</div>
                            <div class="step-description">
                                <strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:</strong> <code>POST /api/auth/login</code><br>
                                Firebase UID ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’Laravelã«é€ä¿¡ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">Laravel ã§ Firebase Admin SDK ã«ã‚ˆã‚‹ JWT æ¤œè¨¼</div>
                            <div class="step-description">
                                <strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:</strong> <code>POST /api/auth/verify-token</code><br>
                                <strong>å‡¦ç†:</strong> <code>AuthVerifyController@verifyAndSetCookie</code><br>
                                Firebase Admin SDK ã§ ID Token ã®çœŸæ­£æ€§ãƒ»æœ‰åŠ¹æœŸé™ã‚’å³å¯†ã«æ¤œè¨¼
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-title">HTTP-Only Cookie ã¨ã—ã¦ JWT ã‚’ä¿å­˜</div>
                            <div class="step-description">
                                <strong>Cookieå:</strong> <code>auth_jwt</code><br>
                                <strong>è¨­å®š:</strong> HTTP-Only, SameSite=lax, 7æ—¥é–“æœ‰åŠ¹<br>
                                JavaScript ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ã§ XSS æ”»æ’ƒã‚’é˜²å¾¡
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <div class="step-title">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</div>
                            <div class="step-description">
                                <code>emit('success')</code> â†’ <code>navigateTo('/')</code><br>
                                ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸã‚’è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é€šçŸ¥ã—ã¦ãƒšãƒ¼ã‚¸é·ç§»
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- èªè¨¼ãƒã‚§ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼ -->
            <div class="section">
                <h2>ğŸ›¡ï¸ èªè¨¼ãƒã‚§ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹æ™‚ï¼‰</h2>
                <div class="flow-container">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">èªè¨¼å¿…é ˆãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹</div>
                            <div class="step-description">
                                ä¾‹: <code>/posts/create</code> (æŠ•ç¨¿ä½œæˆãƒšãƒ¼ã‚¸)<br>
                                <code>definePageMeta({ middleware: 'require-auth' })</code>
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Nuxt Middleware ã®å®Ÿè¡Œï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰</div>
                            <div class="step-description">
                                <strong>ãƒ•ã‚¡ã‚¤ãƒ«:</strong> <code>frontend/middleware/requireAuth.ts</code><br>
                                <strong>é‡è¦:</strong> <span class="highlight">ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œ</span>ã—ã¦ã¡ã‚‰ã¤ãã‚’é˜²æ­¢<br>
                                ãƒ–ãƒ©ã‚¦ã‚¶ã®Cookieãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å–å¾—
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Nuxt Server API ã§èªè¨¼ãƒã‚§ãƒƒã‚¯</div>
                            <div class="step-description">
                                <strong>API:</strong> <code>frontend/server/api/auth/check.get.ts</code><br>
                                Cookie ã‹ã‚‰ <code>auth_jwt</code> ã‚’æŠ½å‡ºã—ã¦Laravelã«è»¢é€
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Laravel ã§ JWT æ¤œè¨¼</div>
                            <div class="step-description">
                                <strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:</strong> <code>GET /api/auth/check</code><br>
                                Firebase Admin SDK ã§ JWT ã®æœ‰åŠ¹æ€§ã‚’å†æ¤œè¨¼<br>
                                <span class="highlight">æ¯å›ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§æ¤œè¨¼</span> = æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">èªè¨¼çµæœã«åŸºã¥ããƒšãƒ¼ã‚¸åˆ¶å¾¡</div>
                            <div class="step-description">
                                <strong>èªè¨¼æˆåŠŸ:</strong> ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’è¨±å¯<br>
                                <strong>èªè¨¼å¤±æ•—:</strong> <code>navigateTo('/login')</code> ã§å³åº§ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ<br>
                                <span class="highlight">ãƒšãƒ¼ã‚¸ãŒä¸€ç¬ãŸã‚Šã¨ã‚‚è¡¨ç¤ºã•ã‚Œãªã„</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚²ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ -->
            <div class="section">
                <h2>ğŸš« ã‚²ã‚¹ãƒˆå°‚ç”¨ãƒšãƒ¼ã‚¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡</h2>
                <div class="flow-container">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">ãƒ­ã‚°ã‚¤ãƒ³/æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹</div>
                            <div class="step-description">
                                èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ <code>/login</code> ã‚„ <code>/register</code> ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã¹ãã§ãªã„
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ç›´æ¥èªè¨¼ãƒã‚§ãƒƒã‚¯</div>
                            <div class="step-description">
                                <strong>ãƒ•ã‚¡ã‚¤ãƒ«:</strong> <code>frontend/pages/login.vue</code>, <code>frontend/pages/register.vue</code><br>
                                <code>&lt;script setup&gt;</code> å†…ã§ <code>$fetch('/api/auth/check')</code>
                            </div>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">èªè¨¼æ¸ˆã¿ã®å ´åˆã¯å³åº§ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</div>
                            <div class="step-description">
                                <code>if (authCheck.authenticated) { await navigateTo('/') }</code><br>
                                ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«è‡ªå‹•é·ç§»
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç‰¹å¾´ -->
            <div class="section">
                <h2>ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç‰¹å¾´</h2>
                <div class="security-box">
                    <div class="security-title">ğŸ›¡ï¸ HTTP-Only Cookie ã«ã‚ˆã‚‹ JWT ä¿è­·</div>
                    <ul>
                        <li><strong>XSSæ”»æ’ƒè€æ€§:</strong> JavaScript ã‹ã‚‰ã‚¯ãƒƒã‚­ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</li>
                        <li><strong>CSRFæ”»æ’ƒè»½æ¸›:</strong> SameSite=lax è¨­å®š</li>
                        <li><strong>æ”¹ã–ã‚“é˜²æ­¢:</strong> Firebase Admin SDK ã«ã‚ˆã‚‹ç½²åæ¤œè¨¼</li>
                    </ul>
                </div>

                <div class="security-box">
                    <div class="security-title">ğŸ”¥ Firebase Admin SDK ã«ã‚ˆã‚‹å³å¯†ãª JWT æ¤œè¨¼</div>
                    <ul>
                        <li><strong>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰æ¤œè¨¼:</strong> æ¯å›Laravelã§çœŸæ­£æ€§ã‚’ç¢ºèª</li>
                        <li><strong>æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯:</strong> æœŸé™åˆ‡ã‚Œãƒˆãƒ¼ã‚¯ãƒ³ã¯å³åº§ã«ç„¡åŠ¹</li>
                        <li><strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç„¡åŠ¹åŒ–:</strong> Firebaseå´ã§ç„¡åŠ¹åŒ–ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚‚æ¤œå‡º</li>
                    </ul>
                </div>

                <div class="security-box">
                    <div class="security-title">âš¡ SSR ã«ã‚ˆã‚‹è¦–è¦šçš„ãƒ•ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢</div>
                    <ul>
                        <li><strong>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰èªè¨¼:</strong> ãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‰ã«èªè¨¼çŠ¶æ…‹ã‚’ç¢ºèª</li>
                        <li><strong>å³åº§ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ:</strong> ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã¯ãƒšãƒ¼ã‚¸ã‚’ä¸€ç¬ã‚‚è¡¨ç¤ºã—ãªã„</li>
                        <li><strong>Laravelç´šã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:</strong> å¾“æ¥ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚¢ãƒ—ãƒªã¨åŒç­‰</li>
                    </ul>
                </div>
            </div>

            <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ -->
            <div class="section">
                <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§</h2>
                <div class="performance-note">
                    <strong>ğŸ¯ Twitter ã¨åŒã˜ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</strong><br>
                    å®Œå…¨SPAã®è¶…é«˜é€Ÿä½“é¨“ã‚ˆã‚Šã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’é‡è¦–ã—ãŸè¨­è¨ˆã€‚èªè¨¼ãƒã‚§ãƒƒã‚¯ã§æ¯å›100-200msç¨‹åº¦ã®é€šä¿¡ãŒç™ºç”Ÿã™ã‚‹ãŒã€Laravel SSRã«æ¯”ã¹ã¦åœ§å€’çš„ã«é«˜é€Ÿã€‚
                </div>

                <div class="flow-container">
                    <div class="component-box nuxt-client">
                        <strong>Nuxt Client:</strong> Firebase Auth SDKã€UI ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
                    </div>
                    <div class="arrow">â†•ï¸</div>
                    <div class="component-box nuxt-server">
                        <strong>Nuxt Server:</strong> SSRã€èªè¨¼ãƒã‚§ãƒƒã‚¯ä¸­ç¶™ã€API ãƒ—ãƒ­ã‚­ã‚·
                    </div>
                    <div class="arrow">â†•ï¸</div>
                    <div class="component-box laravel">
                        <strong>Laravel:</strong> Firebase Admin SDKã€JWTæ¤œè¨¼ã€HTTP-Only Cookieç®¡ç†
                    </div>
                    <div class="arrow">â†•ï¸</div>
                    <div class="component-box firebase">
                        <strong>Firebase:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã€JWTç™ºè¡Œãƒ»æ¤œè¨¼
                    </div>
                </div>
            </div>

            <!-- ä¸»è¦ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆ -->
            <div class="section">
                <h2>ğŸ’» ä¸»è¦ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆ</h2>
                
                <h3>1. Firebaseèªè¨¼ + Laravel JWTæ¤œè¨¼ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ™‚ï¼‰</h3>
                <div class="code-block">
// LoginForm.vue - Firebaseèªè¨¼
const userCredential = await signInWithEmailAndPassword(auth, email, password)
const idToken = await firebaseUser.getIdToken()

// Laravel Admin SDK ã§JWTæ¤œè¨¼ + HTTP-Only Cookieè¨­å®š
const verifyResponse = await $fetch('/api/auth/verify-token', {
  method: 'POST',
  body: { idToken: idToken },
  credentials: 'include'
})
                </div>

                <h3>2. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹æ™‚ï¼‰</h3>
                <div class="code-block">
// requireAuth.ts - Nuxt Middleware
if (import.meta.server) {
  const event = useRequestEvent()
  const cookieHeader = event.node.req.headers.cookie || ''
  
  const authCheck = await $fetch('/api/auth/check', {
    headers: { 'Cookie': cookieHeader }
  })
  
  if (!authCheck.authenticated) {
    return navigateTo('/login')  // å³åº§ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  }
}
                </div>

                <h3>3. Laravel ã§ã® JWT æ¤œè¨¼</h3>
                <div class="code-block">
// AuthVerifyController.php
public function checkAuth(Request $request) {
    $jwt = $request->cookie('auth_jwt');
    
    // Firebase Admin SDK ã§æ¤œè¨¼
    $verifiedIdToken = $this->firebaseAuth->verifyIdToken($jwt);
    $firebaseUid = $verifiedIdToken->claims()->get('sub');
    
    return response()->json([
        'authenticated' => true,
        'user' => ['uid' => $firebaseUid, 'email' => $firebaseEmail]
    ]);
}
                </div>
            </div>

            <!-- ã¾ã¨ã‚ -->
            <div class="section">
                <h2>ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã¾ã¨ã‚</h2>
                <div class="architecture-diagram">
                    <h3>ğŸ¯ è¨­è¨ˆå“²å­¦: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ</h3>
                    <p>å®Œå…¨SPAã®é€Ÿåº¦ã‚ˆã‚Šã‚‚ã€Œå®‰å…¨ã§ç¢ºå®Ÿãªèªè¨¼ã€ã‚’æœ€å„ªå…ˆ</p>
                    
                    <div style="margin: 30px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                            <div style="text-align: center; margin: 10px;">
                                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px;">
                                    <strong>ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</strong><br>
                                    æœ€é«˜ãƒ¬ãƒ™ãƒ«<br>
                                    <small>Twitterç´š</small>
                                </div>
                            </div>
                            <div style="text-align: center; margin: 10px;">
                                <div style="background: #f3e5f5; padding: 15px; border-radius: 8px;">
                                    <strong>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong><br>
                                    é«˜é€Ÿ<br>
                                    <small>Laravel SSR >> ç¾åœ¨ > å®Œå…¨SPA</small>
                                </div>
                            </div>
                            <div style="text-align: center; margin: 10px;">
                                <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                                    <strong>ğŸ¨ UX</strong><br>
                                    è¦–è¦šçš„ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãªã—<br>
                                    <small>Laravelç´šã®å …ç‰¢æ€§</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <p><strong>çµè«–:</strong> Twitter/Xã¨åŒç­‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã€å•†ç”¨SNSãƒ¬ãƒ™ãƒ«ã®èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿç¾</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>