<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ é€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³è©³ç´°è§£èª¬ï¼šãªãœç›´æ¥é€šä¿¡ã¨ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã®ã‹ï¼Ÿ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 4px solid #e74c3c;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2.2em;
        }
        h2 {
            color: #34495e;
            border-left: 5px solid #3498db;
            padding-left: 20px;
            margin-top: 40px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 15px 20px;
            border-radius: 8px;
        }
        .communication-patterns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        .pattern-box {
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .pattern-box:hover {
            transform: translateY(-5px);
        }
        .direct-pattern {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
        }
        .proxy-pattern {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }
        .pattern-box h3 {
            margin-top: 0;
            font-size: 1.4em;
            text-align: center;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }
        .flow-diagram {
            background: #ecf0f1;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            overflow-x: auto;
        }
        .flow-step {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 5px solid #3498db;
        }
        .flow-step.direct {
            border-left: 5px solid #2ecc71;
        }
        .flow-step.proxy {
            border-left: 5px solid #e74c3c;
        }
        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            line-height: 1.4;
        }
        .code-block.good {
            border: 3px solid #2ecc71;
        }
        .code-block.bad {
            border: 3px solid #e74c3c;
        }
        .advantages-disadvantages {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }
        .advantages {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
        }
        .disadvantages {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
        }
        .system-emoji {
            font-size: 1.5em;
            margin: 0 5px;
        }
        .arrow {
            font-size: 24px;
            color: #3498db;
            margin: 0 10px;
            animation: pulse 2s infinite;
        }
        .arrow.direct {
            color: #2ecc71;
        }
        .arrow.proxy {
            color: #e74c3c;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        .highlight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .security-box {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        .metric {
            background: #34495e;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .metric h4 {
            margin-top: 0;
            color: #3498db;
        }
        .alternative-approach {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }
        @media (max-width: 768px) {
            .communication-patterns,
            .advantages-disadvantages,
            .code-comparison {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ é€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨è§£èª¬<br>ç›´æ¥é€šä¿¡ vs ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã®æˆ¦ç•¥çš„é¸æŠ</h1>

        <div class="highlight-box">
            <h3>ğŸ¯ é‡è¦ãªè³ªå•ã¸ã®å›ç­”</h3>
            <p><strong>ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®é€šä¿¡ã¯çµ¶å¯¾ã«Nuxtã‚µãƒ¼ãƒãƒ¼ã‚’çµŒç”±ã™ã‚‹ã®ï¼Ÿã€</strong></p>
            <p><strong>ç­”ãˆï¼šã„ã„ãˆã€‚Firebaseèªè¨¼ã¯ç›´æ¥é€šä¿¡ã€Laravel APIã¯ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã¨ä½¿ã„åˆ†ã‘ã¦ã„ã¾ã™ã€‚</strong></p>
        </div>

        <h2>ğŸ“Š ç¾åœ¨ã®é€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§</h2>
        <div class="communication-patterns">
            <div class="pattern-box direct-pattern">
                <h3>ğŸ”¥ Firebase Authenticationï¼ˆç›´æ¥é€šä¿¡ï¼‰</h3>
                <div style="text-align: center; margin: 20px 0;">
                    <span class="system-emoji">ğŸŒ</span>
                    <span class="arrow direct">â†”ï¸</span>
                    <span class="system-emoji">ğŸ”¥</span>
                </div>
                <ul>
                    <li><strong>ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼</strong></li>
                    <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²</strong></li>
                    <li><strong>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ</strong></li>
                    <li><strong>èªè¨¼çŠ¶æ…‹ç›£è¦–</strong></li>
                    <li><strong>ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—</strong></li>
                </ul>
                <div class="code-block">
// ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ç›´æ¥Firebase
const userCredential = await signInWithEmailAndPassword(
  auth, email, password
)
const idToken = await user.getIdToken()
                </div>
            </div>

            <div class="pattern-box proxy-pattern">
                <h3>âš¡ Laravel APIï¼ˆãƒ—ãƒ­ã‚­ã‚·çµŒç”±ï¼‰</h3>
                <div style="text-align: center; margin: 20px 0;">
                    <span class="system-emoji">ğŸŒ</span>
                    <span class="arrow proxy">â†’</span>
                    <span class="system-emoji">ğŸš€</span>
                    <span class="arrow proxy">â†’</span>
                    <span class="system-emoji">âš¡</span>
                </div>
                <ul>
                    <li><strong>æŠ•ç¨¿ä½œæˆãƒ»å‰Šé™¤</strong></li>
                    <li><strong>ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿</strong></li>
                    <li><strong>ã„ã„ã­æ©Ÿèƒ½</strong></li>
                    <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—</strong></li>
                    <li><strong>å…¨ã¦ã®èªè¨¼å¿…é ˆAPI</strong></li>
                </ul>
                <div class="code-block">
// ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰Nuxt APIçµŒç”±
const response = await $fetch('/api/posts', {
  method: 'POST',
  body: { content: 'æŠ•ç¨¿å†…å®¹' }
})
                </div>
            </div>
        </div>

        <h2>ğŸ”„ è©³ç´°ãªé€šä¿¡ãƒ•ãƒ­ãƒ¼è§£èª¬</h2>

        <h3>1ï¸âƒ£ Firebaseèªè¨¼æ™‚ã®ç›´æ¥é€šä¿¡ãƒ•ãƒ­ãƒ¼</h3>
        <div class="flow-diagram">
            <div class="flow-step direct">
                <strong>Step 1: ãƒ–ãƒ©ã‚¦ã‚¶ â†’ Firebase Auth (ç›´æ¥)</strong><br>
                ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ› â†’ Firebase SDKãŒç›´æ¥Firebase Authã«é€ä¿¡
                <div class="code-block">
// ãƒ–ãƒ©ã‚¦ã‚¶å†…ã®JavaScript
import { signInWithEmailAndPassword } from 'firebase/auth'
const result = await signInWithEmailAndPassword(auth, email, password)
                </div>
            </div>
            <div class="flow-step direct">
                <strong>Step 2: Firebase Auth â†’ ãƒ–ãƒ©ã‚¦ã‚¶ (ç›´æ¥)</strong><br>
                Firebase AuthãŒèªè¨¼å‡¦ç†ã‚’å®Ÿè¡Œ â†’ JWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç›´æ¥ãƒ–ãƒ©ã‚¦ã‚¶ã«è¿”å´
            </div>
            <div class="flow-step proxy">
                <strong>Step 3: ãƒ–ãƒ©ã‚¦ã‚¶ â†’ Nuxt API (ãƒ—ãƒ­ã‚­ã‚·é–‹å§‹)</strong><br>
                å–å¾—ã—ãŸJWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’Nuxt APIã«é€ä¿¡ã—ã¦HttpOnly Cookieè¨­å®š
                <div class="code-block">
// ã“ã“ã‹ã‚‰ãƒ—ãƒ­ã‚­ã‚·çµŒç”±
const response = await $fetch('/api/auth/login', {
  method: 'POST',
  body: { idToken: token }
})
                </div>
            </div>
        </div>

        <h3>2ï¸âƒ£ Laravel APIå‘¼ã³å‡ºã—æ™‚ã®ãƒ—ãƒ­ã‚­ã‚·ãƒ•ãƒ­ãƒ¼</h3>
        <div class="flow-diagram">
            <div class="flow-step proxy">
                <strong>Step 1: ãƒ–ãƒ©ã‚¦ã‚¶ â†’ Nuxt API</strong><br>
                æŠ•ç¨¿ä½œæˆãªã©ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆHttpOnly Cookieã¯è‡ªå‹•é€ä¿¡ï¼‰
            </div>
            <div class="flow-step proxy">
                <strong>Step 2: Nuxt API â†’ Laravel API</strong><br>
                Nuxtã‚µãƒ¼ãƒãƒ¼ãŒèªè¨¼æƒ…å ±ã‚’å«ã‚ã¦Laravelã«ãƒ—ãƒ­ã‚­ã‚·
            </div>
            <div class="flow-step proxy">
                <strong>Step 3: Laravel â†’ Firebase (æ¤œè¨¼)</strong><br>
                LaravelãŒJWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’Firebaseã§æ¤œè¨¼
            </div>
            <div class="flow-step proxy">
                <strong>Step 4: Laravel â†’ Nuxt â†’ ãƒ–ãƒ©ã‚¦ã‚¶</strong><br>
                å‡¦ç†çµæœã‚’é€†æ–¹å‘ã«ãƒ—ãƒ­ã‚­ã‚·ã—ã¦è¿”å´
            </div>
        </div>

        <h2>ğŸ¤” ãªãœã“ã®ä½¿ã„åˆ†ã‘ã‚’ã™ã‚‹ã®ã‹ï¼Ÿ</h2>

        <h3>ğŸ”¥ Firebaseç›´æ¥é€šä¿¡ã®ç†ç”±</h3>
        <div class="advantages-disadvantages">
            <div class="advantages">
                <h4>âœ… ç›´æ¥é€šä¿¡ã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>Firebase SDKã®è±Šå¯Œãªæ©Ÿèƒ½</strong><br>å¤šè¦ç´ èªè¨¼ã€OAuthé€£æºã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãªã©</li>
                    <li><strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èªè¨¼çŠ¶æ…‹ç›£è¦–</strong><br>`onAuthStateChanged`ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°</li>
                    <li><strong>æœ€é©åŒ–ã•ã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong><br>Googleã®æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</li>
                    <li><strong>è±Šå¯Œãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong><br>è©³ç´°ãªã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¨å¤šè¨€èªå¯¾å¿œ</li>
                    <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å°‚é–€æ€§</strong><br>Googleã®ä¸–ç•Œæœ€é«˜æ°´æº–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</li>
                </ul>
            </div>
            <div class="disadvantages">
                <h4>âŒ ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã«ã—ãŸå ´åˆã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>æ©Ÿèƒ½åˆ¶é™</strong><br>Firebase SDK ã®æ©Ÿèƒ½ã‚’æ‰‹å‹•å®Ÿè£…ãŒå¿…è¦</li>
                    <li><strong>è¤‡é›‘æ€§å¢—åŠ </strong><br>èªè¨¼ãƒ•ãƒ­ãƒ¼ãŒè¤‡é›‘åŒ–</li>
                    <li><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–</strong><br>ä½™è¨ˆãªãƒ—ãƒ­ã‚­ã‚·å‡¦ç†</li>
                    <li><strong>ä¿å®ˆã‚³ã‚¹ãƒˆå¢—</strong><br>Firebaseæ©Ÿèƒ½ã®å†å®Ÿè£…ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</li>
                    <li><strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®å–ªå¤±</strong><br>èªè¨¼çŠ¶æ…‹ã®å³åº§ãªåæ˜ ãŒå›°é›£</li>
                </ul>
            </div>
        </div>

        <h3>âš¡ Laravel API ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã®ç†ç”±</h3>
        <div class="advantages-disadvantages">
            <div class="advantages">
                <h4>âœ… ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>HttpOnly Cookieæ´»ç”¨</strong><br>XSSæ”»æ’ƒã‹ã‚‰ã®å®Œå…¨ä¿è­·</li>
                    <li><strong>CORSå•é¡Œã®å›é¿</strong><br>åŒä¸€ã‚ªãƒªã‚¸ãƒ³ã§ã®é€šä¿¡</li>
                    <li><strong>èªè¨¼ã®ä¸€å…ƒç®¡ç†</strong><br>Nuxtã‚µãƒ¼ãƒãƒ¼ã§çµ±ä¸€çš„ãªèªè¨¼å‡¦ç†</li>
                    <li><strong>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€</strong><br>ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼å‡¦ç†</li>
                    <li><strong>ãƒ­ã‚°ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</strong><br>å…¨APIå‘¼ã³å‡ºã—ã®ç›£è¦–</li>
                </ul>
            </div>
            <div class="disadvantages">
                <h4>âŒ ç›´æ¥é€šä¿¡ã«ã—ãŸå ´åˆã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯</strong><br>JavaScript ã‹ã‚‰Cookieã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
                    <li><strong>CORSè¨­å®šã®è¤‡é›‘åŒ–</strong><br>ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³è¨­å®šãŒå¿…è¦</li>
                    <li><strong>èªè¨¼çŠ¶æ…‹ã®ä¸æ•´åˆ</strong><br>è¤‡æ•°ç®‡æ‰€ã§ã®èªè¨¼çŠ¶æ…‹ç®¡ç†</li>
                    <li><strong>ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã®ç…©é›‘ã•</strong><br>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®æœŸé™ç®¡ç†</li>
                    <li><strong>ãƒ‡ãƒãƒƒã‚°ã®å›°é›£ã•</strong><br>èªè¨¼ã‚¨ãƒ©ãƒ¼ã®åŸå› ç‰¹å®šãŒå›°é›£</li>
                </ul>
            </div>
        </div>

        <h2>ğŸ’» ã‚³ãƒ¼ãƒ‰æ¯”è¼ƒï¼šæ­£ã—ã„å®Ÿè£… vs é–“é•ã£ãŸå®Ÿè£…</h2>

        <h3>ğŸ”¥ Firebaseèªè¨¼ã®å ´åˆ</h3>
        <div class="code-comparison">
            <div>
                <h4 style="color: #2ecc71;">âœ… æ­£ã—ã„å®Ÿè£…ï¼ˆç›´æ¥é€šä¿¡ï¼‰</h4>
                <div class="code-block good">
// ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ç›´æ¥Firebase
import { signInWithEmailAndPassword } from 'firebase/auth'

// è±Šå¯Œãªæ©Ÿèƒ½ã‚’ãã®ã¾ã¾åˆ©ç”¨
const userCredential = await signInWithEmailAndPassword(
  auth, email, password
)

// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èªè¨¼çŠ¶æ…‹ç›£è¦–
onAuthStateChanged(auth, (user) => {
  if (user) {
    console.log('ãƒ­ã‚°ã‚¤ãƒ³ä¸­:', user.uid)
  } else {
    console.log('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ')
  }
})

// å¤šè¦ç´ èªè¨¼ã‚‚ç°¡å˜
const multiFactorAuth = multiFactor(user)
                </div>
            </div>
            <div>
                <h4 style="color: #e74c3c;">âŒ é–“é•ã£ãŸå®Ÿè£…ï¼ˆå…¨ã¦ãƒ—ãƒ­ã‚­ã‚·ï¼‰</h4>
                <div class="code-block bad">
// å…¨ã¦NuxtçµŒç”±ã«ã—ãŸå ´åˆ
const response = await $fetch('/api/auth/firebase-login', {
  method: 'POST',
  body: { email, password }
})

// å•é¡Œç‚¹ï¼š
// 1. Firebase SDKã®æ©Ÿèƒ½ãŒä½¿ãˆãªã„
// 2. å¤šè¦ç´ èªè¨¼ã®å†å®Ÿè£…ãŒå¿…è¦
// 3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãŒã§ããªã„
// 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å…¨ã¦æ‰‹å‹•å®Ÿè£…
// 5. OAuthé€£æºãŒå›°é›£
// 6. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚‚æ‰‹å‹•

// çµæœï¼šã‚³ãƒ¼ãƒ‰é‡ãŒæ•°å€ã«å¢—åŠ 
                </div>
            </div>
        </div>

        <h3>âš¡ Laravel APIå‘¼ã³å‡ºã—ã®å ´åˆ</h3>
        <div class="code-comparison">
            <div>
                <h4 style="color: #2ecc71;">âœ… æ­£ã—ã„å®Ÿè£…ï¼ˆãƒ—ãƒ­ã‚­ã‚·çµŒç”±ï¼‰</h4>
                <div class="code-block good">
// Nuxt APIçµŒç”±ã§ã‚»ã‚­ãƒ¥ã‚¢
const response = await $fetch('/api/posts', {
  method: 'POST',
  body: { content: 'æŠ•ç¨¿å†…å®¹' }
})

// ãƒ¡ãƒªãƒƒãƒˆï¼š
// 1. HttpOnly Cookieã§è‡ªå‹•èªè¨¼
// 2. XSSæ”»æ’ƒã‹ã‚‰å®Œå…¨ä¿è­·
// 3. CORSå•é¡Œãªã—
// 4. çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
// 5. èªè¨¼çŠ¶æ…‹ã®ä¸€å…ƒç®¡ç†
                </div>
            </div>
            <div>
                <h4 style="color: #e74c3c;">âŒ é–“é•ã£ãŸå®Ÿè£…ï¼ˆç›´æ¥é€šä¿¡ï¼‰</h4>
                <div class="code-block bad">
// ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ç›´æ¥Laravel
const response = await $fetch('http://localhost/api/posts', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}` // XSSæ”»æ’ƒã«è„†å¼±
  },
  body: { content: 'æŠ•ç¨¿å†…å®¹' }
})

// å•é¡Œç‚¹ï¼š
// 1. JWTãƒˆãƒ¼ã‚¯ãƒ³ãŒJavaScriptã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
// 2. XSSæ”»æ’ƒã§ãƒˆãƒ¼ã‚¯ãƒ³ãŒç›—ã¾ã‚Œã‚‹å±é™º
// 3. CORSè¨­å®šãŒè¤‡é›‘
// 4. ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œã®æ‰‹å‹•ç®¡ç†ãŒå¿…è¦
// 5. èªè¨¼çŠ¶æ…‹ãŒåˆ†æ•£
                </div>
            </div>
        </div>

        <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ</h2>
        <div class="performance-metrics">
            <div class="metric">
                <h4>ğŸ”¥ Firebaseç›´æ¥é€šä¿¡</h4>
                <p><strong>200-400ms</strong></p>
                <p>Googleã®æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</p>
            </div>
            <div class="metric">
                <h4>ğŸš€ Nuxtãƒ—ãƒ­ã‚­ã‚·</h4>
                <p><strong>+10-20ms</strong></p>
                <p>ãƒ—ãƒ­ã‚­ã‚·ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ï¼ˆæœ€å°ï¼‰</p>
            </div>
            <div class="metric">
                <h4>âš¡ å…¨ä½“ãƒ¬ã‚¹ãƒãƒ³ã‚¹</h4>
                <p><strong>50-150ms</strong></p>
                <p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨æ™‚</p>
            </div>
            <div class="metric">
                <h4>ğŸ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“</h4>
                <p><strong>æœ€é©</strong></p>
                <p>å„ã‚·ã‚¹ãƒ†ãƒ ã®é•·æ‰€ã‚’æ´»ç”¨</p>
            </div>
        </div>

        <h2>ğŸ”„ ã‚‚ã—å…¨ã¦ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã«ã—ãŸå ´åˆã®å•é¡Œ</h2>
        <div class="alternative-approach">
            <h3>âŒ å…¨Proxyæ–¹å¼ã®å•é¡Œç‚¹</h3>
            
            <h4>1. Firebaseæ©Ÿèƒ½ã®å¤§å¹…åˆ¶é™</h4>
            <ul>
                <li>å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰ã®æ‰‹å‹•å®Ÿè£…ãŒå¿…è¦</li>
                <li>OAuthé€£æºï¼ˆGoogleã€GitHubç­‰ï¼‰ã®å†å®Ÿè£…</li>
                <li>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã®è‡ªä½œ</li>
                <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ èªè¨¼çŠ¶æ…‹ç›£è¦–ã®å–ªå¤±</li>
            </ul>

            <h4>2. é–‹ç™ºãƒ»ä¿å®ˆã‚³ã‚¹ãƒˆã®æ¿€å¢—</h4>
            <div class="code-block">
// å¿…è¦ã«ãªã‚‹è¿½åŠ å®Ÿè£…ä¾‹
- /api/auth/google-oauth
- /api/auth/github-oauth  
- /api/auth/reset-password
- /api/auth/verify-email
- /api/auth/multi-factor-auth
- /api/auth/phone-verification
// ... æ•°åã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå¿…è¦
            </div>

            <h4>3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã®å¢—åŠ </h4>
            <ul>
                <li>Firebase SDKã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’æ‰‹å‹•å®Ÿè£…</li>
                <li>ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã€ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹æ¤œçŸ¥ã‚’è‡ªä½œ</li>
                <li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è¿½å¾“è² è·</li>
            </ul>
        </div>

        <h2>ğŸ† ç¾åœ¨ã®æ§‹æˆãŒæœ€é©ãªç†ç”±</h2>
        <div class="security-box">
            <h3>ğŸ¯ æˆ¦ç•¥çš„ãªãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ§‹æˆ</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <h4>ğŸ”¥ Firebaseï¼ˆç›´æ¥ï¼‰= èªè¨¼å°‚é–€</h4>
                    <ul>
                        <li>ä¸–ç•Œæœ€é«˜æ°´æº–ã®èªè¨¼æ©Ÿèƒ½</li>
                        <li>è±Šå¯ŒãªSDKæ©Ÿèƒ½</li>
                        <li>Googleã‚¤ãƒ³ãƒ•ãƒ©ã®æ©æµ</li>
                        <li>ç¶™ç¶šçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ›´æ–°</li>
                    </ul>
                </div>
                <div>
                    <h4>âš¡ Laravelï¼ˆãƒ—ãƒ­ã‚­ã‚·ï¼‰= ãƒ‡ãƒ¼ã‚¿ä¿è­·</h4>
                    <ul>
                        <li>HttpOnly Cookieã§ã‚»ã‚­ãƒ¥ã‚¢</li>
                        <li>ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«é›†ä¸­</li>
                        <li>çµ±ä¸€çš„ãªAPIç®¡ç†</li>
                        <li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã®æœ€é©åŒ–</li>
                    </ul>
                </div>
            </div>

            <h4>ğŸ’¡ ã“ã®æ§‹æˆã«ã‚ˆã‚Šå®Ÿç¾</h4>
            <ul>
                <li><strong>æœ€é«˜ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</strong>: å„ã‚·ã‚¹ãƒ†ãƒ ã®é•·æ‰€ã‚’æ´»ç”¨</li>
                <li><strong>æœ€é©ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong>: ç„¡é§„ãªãƒ—ãƒ­ã‚­ã‚·ã‚’å›é¿</li>
                <li><strong>å„ªã‚ŒãŸé–‹ç™ºä½“é¨“</strong>: Firebase SDKã®è±Šå¯Œãªæ©Ÿèƒ½</li>
                <li><strong>é•·æœŸçš„ãªä¿å®ˆæ€§</strong>: è²¬ä»»åˆ†é›¢ã«ã‚ˆã‚‹æ˜ç¢ºãªè¨­è¨ˆ</li>
                <li><strong>ã‚³ã‚¹ãƒˆåŠ¹ç‡</strong>: ä¸è¦ãªå†å®Ÿè£…ã‚’å›é¿</li>
            </ul>
        </div>

        <h2>ğŸ¯ ã¾ã¨ã‚</h2>
        <div class="highlight-box">
            <h3>ğŸ“‹ é€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æœ€é©è§£</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>ğŸ”¥ Firebase Auth â†’ ç›´æ¥é€šä¿¡</h4>
                    <ul>
                        <li>èªè¨¼ã®å°‚é–€æ€§ã‚’æ´»ç”¨</li>
                        <li>SDKæ©Ÿèƒ½ã‚’ãƒ•ãƒ«æ´»ç”¨</li>
                        <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã‚’ç¢ºä¿</li>
                        <li>é–‹ç™ºåŠ¹ç‡ã‚’æœ€å¤§åŒ–</li>
                    </ul>
                </div>
                <div>
                    <h4>âš¡ Laravel API â†’ ãƒ—ãƒ­ã‚­ã‚·çµŒç”±</h4>
                    <ul>
                        <li>HttpOnly Cookieã§ã‚»ã‚­ãƒ¥ã‚¢</li>
                        <li>èªè¨¼çŠ¶æ…‹ã‚’ä¸€å…ƒç®¡ç†</li>
                        <li>ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«é›†ä¸­</li>
                        <li>ãƒ‡ãƒ¼ã‚¿ä¿è­·ã‚’å¾¹åº•</li>
                    </ul>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; border-radius: 15px;">
            <h3>ğŸ† æœ€é©ãªé€šä¿¡æˆ¦ç•¥ã®å®Œæˆ</h3>
            <p style="font-size: 1.1em; margin: 15px 0;">
                <strong>ç›´æ¥é€šä¿¡ã¨ãƒ—ãƒ­ã‚­ã‚·ã®æˆ¦ç•¥çš„ä½¿ã„åˆ†ã‘ã«ã‚ˆã‚Š</strong><br>
                <strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»é–‹ç™ºåŠ¹ç‡ã‚’åŒæ™‚å®Ÿç¾</strong>
            </p>
            <div style="margin-top: 20px; font-size: 0.9em; opacity: 0.9;">
                ğŸŒ Browser â†”ï¸ ğŸ”¥ Firebase (Direct) + ğŸŒ Browser â†’ ğŸš€ Nuxt â†’ âš¡ Laravel (Proxy) = ğŸ¯ Perfect Balance
            </div>
        </div>
    </div>
</body>
</html>